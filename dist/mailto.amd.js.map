{"version":3,"sources":["webpack:///webpack/bootstrap 146a4b0210bc8f6cdfaf","webpack:///./index.js"],"names":["obscureString","MailToLink","el","link","dataAttr","href","getAttribute","replaceObscuredString","e","Error","linkHtml","innerHTML","indexOf","nodeName","setAttribute","classNames","createLinkReplacement","insertAdjacentHTML","outerHTML","parentNode","removeChild","body","document","createElement","length","str","newStr","replace"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;;;;;;;;;AAEA,IAAMA,gBAAgB,MAAtB;;AAEA;;;;;;;IAMMC,U;AACJ;;;;AAIA,sBAAYC,EAAZ,EAAgB;AAAA;;AACd,SAAKA,EAAL,GAAUA,EAAV;AACA,QAAIC,aAAJ;AAAA,QAAUC,iBAAV;AAAA,QAAoBC,aAApB;AACA;AACA,QAAI;AACFD,iBAAWF,GAAGI,YAAH,CAAgB,YAAhB,CAAX;AACAD,yBAAiB,KAAKE,qBAAL,CAA2BH,QAA3B,CAAjB;AACD,KAHD,CAGE,OAAMI,CAAN,EAAS;AACT,YAAMC,MAAM,wDAAN,CAAN;AACD;;AAGD;AACA,QAAIC,WAAWR,GAAGS,SAAlB;AACA,QAAID,SAASE,OAAT,CAAiBZ,aAAjB,CAAJ,EAAqC;AACnCU,iBAAW,KAAKH,qBAAL,CAA2BG,QAA3B,CAAX;AACAR,SAAGS,SAAH,GAAeD,QAAf;AACD;;AAED;AACA,QAAIR,GAAGW,QAAH,KAAgB,GAApB,EAAyB;AACvBX,SAAGY,YAAH,CAAgB,MAAhB,EAAwBT,IAAxB;AACD,KAFD,MAEO;AACL;AACA,UAAMU,aAAab,GAAGI,YAAH,CAAgB,OAAhB,KAA4B,EAA/C;AACAH,aAAO,KAAKa,qBAAL,CAA2BX,IAA3B,EAAiCK,QAAjC,EAA2CK,UAA3C,CAAP;AACA;AACAb,SAAGe,kBAAH,CAAsB,aAAtB,EAAqCd,KAAKe,SAA1C;AACAhB,SAAGiB,UAAH,CAAcC,WAAd,CAA0BlB,EAA1B;;AAEA;AACA,WAAKA,EAAL,GAAUC,IAAV;AACD;AACF;;AAED;;;;;;;;;;;0CAOsBE,I,EAAMgB,I,EAAuB;AAAA,UAAjBN,UAAiB,uEAAJ,EAAI;;AACjD,UAAIZ,OAAOmB,SAASC,aAAT,CAAuB,GAAvB,CAAX;AACApB,WAAKW,YAAL,CAAkB,MAAlB,EAA0BT,IAA1B;AACA,UAAIU,WAAWS,MAAf,EAAuB;AACrBrB,aAAKW,YAAL,CAAkB,OAAlB,EAA2BC,UAA3B;AACD;AACDZ,WAAKQ,SAAL,GAAiBU,IAAjB;AACA,aAAOlB,IAAP;AACD;;AAED;;;;;;;;0CAKsBsB,G,EAAK;AACzB,UAAIC,eAAJ;AACA,UAAI;AACFA,iBAASD,IAAIE,OAAJ,CAAY3B,aAAZ,EAA2B,GAA3B,CAAT;AACD,OAFD,CAEE,OAAOQ,CAAP,EAAU;AACV,cAAMC,MACJ,6EADI,CAAN;AAGD;AACD,aAAOiB,MAAP;AACD;;;;;;kBAGYzB,U","file":"mailto.amd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 146a4b0210bc8f6cdfaf","\"use strict\";\n\nconst obscureString = \"[at]\";\n\n/**\n * Replaces obscured element with a mailto link <br>\n * Looks for all elements with a \"data-email\" attribute and converts them to\n * mailto links, using the value of that attribute as the email address.\n * Inner HTML is preserved and any occurrences of \"[at]\" are converted to \"@\".\n */\nclass MailToLink {\n  /**\n   * Create link from obscured element\n   * @param {object} el - dom node\n   */\n  constructor(el) {\n    this.el = el;\n    let link, dataAttr, href;\n    // Generate mailto href\n    try {\n      dataAttr = el.getAttribute(\"data-email\");\n      href = `mailto:${this.replaceObscuredString(dataAttr)}`;\n    } catch(e) {\n      throw Error('MailToLink: contructor require a DOM node object param')\n    }\n\n\n    // Replace [at] with @ in link text\n    let linkHtml = el.innerHTML;\n    if (linkHtml.indexOf(obscureString)) {\n      linkHtml = this.replaceObscuredString(linkHtml);\n      el.innerHTML = linkHtml;\n    }\n\n    // Add mailto href to link tags\n    if (el.nodeName === \"A\") {\n      el.setAttribute(\"href\", href);\n    } else {\n      // Create link tag, remove original element\n      const classNames = el.getAttribute(\"class\") || \"\";\n      link = this.createLinkReplacement(href, linkHtml, classNames);\n      // Insert link and remove original element\n      el.insertAdjacentHTML(\"beforebegin\", link.outerHTML);\n      el.parentNode.removeChild(el);\n\n      // replace instance el with new element\n      this.el = link;\n    }\n  }\n\n  /**\n   * Create link to replace the original element\n   * @param {string} href - value to apply to link\n   * @param {string} body - body to insert to link\n   * @param {string} classNames - values to add to the link\n   * @returns {object} link - DOM element\n   */\n  createLinkReplacement(href, body, classNames = \"\") {\n    let link = document.createElement(\"a\");\n    link.setAttribute(\"href\", href);\n    if (classNames.length) {\n      link.setAttribute(\"class\", classNames);\n    }\n    link.innerHTML = body;\n    return link;\n  }\n\n  /**\n   * Replace obscured string with valid email address\n   * @param {string} str - obscured email string\n   * @return {string} newStr - valid email string\n   */\n  replaceObscuredString(str) {\n    let newStr;\n    try {\n      newStr = str.replace(obscureString, \"@\");\n    } catch (e) {\n      throw Error(\n        \"MailToLink: `data-email` attribute for mailto replacement. Link not created\"\n      );\n    }\n    return newStr;\n  }\n}\n\nexport default MailToLink;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}